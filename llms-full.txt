# staple-css: Comprehensive LLM Guide

This document provides detailed API reference and implementation examples for AI-assisted code generation with staple-css.

## Complete Token Reference

### Space Scale (0-8)
```
0:  0px
1:  4px   (0.25rem)
2:  8px   (0.5rem)
3:  12px  (0.75rem)
4:  16px  (1rem)
5:  24px  (1.5rem)
6:  32px  (2rem)
7:  48px  (3rem)
8:  64px  (4rem)
```
Used in: `pad`, `margin`, `gap`
CSS variable names: `--st-space-0` through `--st-space-8`

### Radius Scale (0-4)
```
0: 0px    (sharp corners)
1: 2px    (0.125rem - subtle)
2: 4px    (0.25rem - standard)
3: 8px    (0.5rem - prominent)
4: 16px   (1rem - pill/fully rounded)
```
Used in: `radius`
CSS variable names: `--st-radius-0` through `--st-radius-4`

### Shadow Scale (0-2)
```
0: none
1: 0 0.0625rem 0.125rem 0 rgb(0 0 0 / 0.05)           (subtle)
2: 0 0.25rem 0.375rem -0.0625rem rgb(0 0 0 / 0.1), ... (prominent)
```
Used in: `shadow`
CSS variable names: `--st-shadow-0`, `--st-shadow-1`, `--st-shadow-2`

### Font Size Scale (0-6)
```
0: 12px  (0.75rem) - caption
1: 14px  (0.875rem) - small
2: 16px  (1rem) - body
3: 18px  (1.125rem) - large
4: 20px  (1.25rem) - h3
5: 24px  (1.5rem) - h2
6: 32px  (2rem) - h1
```
Used in: Text `size` prop
CSS variable names: `--st-font-size-0` through `--st-font-size-6`

### Line Height Scale
```
tight:   1.25
normal:  1.5
relaxed: 1.75
```
Used in: Text `leading` prop
CSS variable names: `--st-leading-tight`, `--st-leading-normal`, `--st-leading-relaxed`

### Font Weight Scale
```
normal:    400
medium:    500
semibold:  600
bold:      700
```
Used in: Text `weight` prop
CSS variable names: `--st-font-weight-normal`, etc.

### Border Width Scale
```
0: 0px
1: 1px
2: 2px
3: 3px
4: 4px
8: 8px
```
Used in: Box `borderWidth` prop
CSS variable names: `--st-border-width-0`, etc.

### Z-Index Scale
```
0:   0
10:  10
20:  20
30:  30
40:  40
50:  50
max: 9999
```
Used in: Box `zIndex` prop
CSS variable names: `--st-z-0`, `--st-z-10`, etc.

### Opacity Scale (0-100)
```
0:   0
5:   0.05
10:  0.1
20:  0.2
30:  0.3
40:  0.4
50:  0.5
60:  0.6
70:  0.7
80:  0.8
90:  0.9
100: 1
```
Used in: Box `opacity` prop
CSS variable names: `--st-opacity-0`, `--st-opacity-50`, etc.

### Max Width Scale
```
xs:    320px  (20rem)
sm:    384px  (24rem)
md:    448px  (28rem)
lg:    512px  (32rem)
xl:    576px  (36rem)
2xl:   672px  (42rem)
3xl:   768px  (48rem)
4xl:   896px  (56rem)
5xl:   1024px (64rem)
6xl:   1152px (72rem)
7xl:   1280px (80rem)
prose: 65ch
full:  100%
screen: 100vw
none:  none
```
Used in: Box `maxWidth` prop
CSS variable names: `--st-max-width-xs`, `--st-max-width-lg`, etc.

### Aspect Ratio Scale
```
square:    1 / 1
video:     16 / 9
portrait:  3 / 4
landscape: 4 / 3
wide:      21 / 9
golden:    1.618 / 1
auto:      auto
```
Used in: Box `aspectRatio` prop
CSS variable names: `--st-aspect-square`, etc.

### Letter Spacing Scale
```
tighter: -0.05em
tight:   -0.025em
normal:  0
wide:    0.025em
wider:   0.05em
widest:  0.1em
```
CSS variable names: `--st-letter-spacing-tighter`, etc.

### Line Clamp Scale
```
1-6: value
none: none
```
CSS variable names: `--st-line-clamp-1` through `--st-line-clamp-6`

### Color Tokens (Semantic)

**Light Theme (default):**
```
--st-color-background:       #ffffff
--st-color-surface:          #f9fafb
--st-color-surface-raised:   #ffffff
--st-color-text:             #111827
--st-color-text-muted:       #6b7280
--st-color-text-inverse:     #ffffff
--st-color-border:           #e5e7eb
--st-color-border-muted:     #f3f4f6
--st-color-primary:          #2563eb
--st-color-primary-hover:    #1d4ed8
--st-color-primary-text:     #ffffff
--st-color-danger:           #dc2626
--st-color-danger-hover:     #b91c1c
--st-color-danger-text:      #ffffff
--st-color-danger-surface:   #fef2f2
--st-color-warn:             #d97706
--st-color-warn-hover:       #b45309
--st-color-warn-text:        #ffffff
--st-color-warn-surface:     #fffbeb
--st-color-success:          #16a34a
--st-color-success-hover:    #15803d
--st-color-success-text:     #ffffff
--st-color-success-surface:  #f0fdf4
--st-color-focus:            #2563eb
--st-color-focus-ring:       (focus ring combo)
```

**Dark Theme (data-theme="dark"):**
Similar structure with adjusted values for dark mode readability.

### Display Tokens
```
--st-display-block:       block
--st-display-inline-block: inline-block
--st-display-inline:      inline
--st-display-flex:        flex
--st-display-inline-flex: inline-flex
--st-display-grid:        grid
--st-display-inline-grid: inline-grid
--st-display-none:        none
--st-display-contents:    contents
```

### Position Tokens
```
--st-position-static:    static
--st-position-relative:  relative
--st-position-absolute:  absolute
--st-position-fixed:     fixed
--st-position-sticky:    sticky
```

### Overflow Tokens
```
--st-overflow-visible: visible
--st-overflow-hidden:  hidden
--st-overflow-scroll:  scroll
--st-overflow-auto:    auto
--st-overflow-clip:    clip
```

### Flex Tokens
```
--st-flex-grow-0:      0
--st-flex-grow-1:      1
--st-flex-shrink-0:    0
--st-flex-shrink-1:    1
--st-order--1:         -1
--st-order-0:          0
--st-order-1:          1
--st-order-2:          2
--st-order-3:          3
```

### Cursor Tokens
```
--st-cursor-auto:          auto
--st-cursor-default:       default
--st-cursor-pointer:       pointer
--st-cursor-wait:          wait
--st-cursor-text:          text
--st-cursor-move:          move
--st-cursor-not-allowed:   not-allowed
--st-cursor-grab:          grab
--st-cursor-grabbing:      grabbing
```

### Text Transform Tokens
```
--st-text-transform-none:       none
--st-text-transform-uppercase:  uppercase
--st-text-transform-lowercase:  lowercase
--st-text-transform-capitalize: capitalize
```

### White Space Tokens
```
--st-white-space-normal:    normal
--st-white-space-nowrap:    nowrap
--st-white-space-pre:       pre
--st-white-space-pre-line:  pre-line
--st-white-space-pre-wrap:  pre-wrap
```

### Object Fit Tokens
```
--st-object-fit-contain:    contain
--st-object-fit-cover:      cover
--st-object-fit-fill:       fill
--st-object-fit-none:       none
--st-object-fit-scale-down: scale-down
```

## Component Deep Dive

### Box
Complete props table:
```typescript
interface BoxProps {
  // Spacing
  pad?:           Responsive<0-8>
  margin?:        Responsive<0-8>
  marginX?:       Responsive<0-8>
  marginY?:       Responsive<0-8>
  marginTop?:     Responsive<0-8>
  marginBottom?:  Responsive<0-8>
  marginLeft?:    Responsive<0-8>
  marginRight?:   Responsive<0-8>

  // Appearance
  radius?:        0-4
  shadow?:        0-2
  zIndex?:        0|10|20|30|40|50|max
  opacity?:       Responsive<0-100>
  borderWidth?:   Responsive<0|1|2|3|4|8>

  // Layout
  maxWidth?:      Responsive<xs|sm|md|...|prose|full|screen|none>
  aspectRatio?:   Responsive<square|video|portrait|...|auto>
  outlineWidth?:  Responsive<0|1|2|4|8>
  outlineOffset?: Responsive<0|1|2|4|8>

  // Polymorphism
  as?:            any HTML element
  className?:     string
  style?:         LayoutStyleProps
}
```

**Examples:**
```tsx
// Simple box
<Box pad={4}>Content</Box>

// Box with styling
<Box pad={4} radius={2} shadow={1} background="surface">
  <Text>Card content</Text>
</Box>

// Responsive padding
<Box pad={{ base: 2, md: 4, lg: 6 }}>
  <Text>Responds to breakpoints</Text>
</Box>

// Polymorphic usage
<Box as="section" pad={6} radius={3}>
  <h2>Section Title</h2>
</Box>

// Multiple margins
<Box
  margin={4}
  marginTop={2}
  marginBottom={6}
>
  Content with custom top/bottom
</Box>
```

### Stack (Flex Column)
Complete props table:
```typescript
interface StackProps {
  gap?:       Responsive<0-8>
  align?:     Responsive<start|center|end|stretch|baseline>
  as?:        HTML element
  className?: string
  style?:     LayoutStyleProps
}
```

**Examples:**
```tsx
// Basic vertical layout
<Stack gap={2}>
  <Item />
  <Item />
  <Item />
</Stack>

// Responsive gap
<Stack gap={{ base: 2, md: 4 }}>
  <Item />
  <Item />
</Stack>

// Centered items
<Stack gap={4} align="center">
  <Item />
  <Item />
</Stack>

// As custom element
<Stack as="nav" gap={3}>
  <Link>Home</Link>
  <Link>About</Link>
</Stack>
```

### Inline (Flex Row)
Complete props table:
```typescript
interface InlineProps {
  gap?:       Responsive<0-8>
  align?:     Responsive<start|center|end|stretch|baseline>
  justify?:   Responsive<start|center|end|between|around|evenly>
  wrap?:      Responsive<boolean>
  as?:        HTML element
  className?: string
  style?:     LayoutStyleProps
}
```

**Examples:**
```tsx
// Button group
<Inline gap={2}>
  <button>Cancel</button>
  <button>Save</button>
</Inline>

// Spaced apart (space-between)
<Inline gap={4} justify="between">
  <span>Left</span>
  <span>Right</span>
</Inline>

// Wrapping tags
<Inline gap={2} wrap={{ base: true, md: false }}>
  <Tag />
  <Tag />
  <Tag />
</Inline>

// Responsive alignment
<Inline
  gap={{ base: 2, md: 4 }}
  justify={{ base: "center", md: "between" }}
  align="center"
>
  <Item />
  <Item />
</Inline>
```

### Grid
Complete props table:
```typescript
interface GridProps {
  cols?:        Responsive<1-12 | none>
  rows?:        Responsive<1-6 | none>
  gap?:         Responsive<0-8>
  rowGap?:      Responsive<0-8>
  columnGap?:   Responsive<0-8>
  flow?:        GridAutoFlow
  align?:       PlaceItems
  justify?:     PlaceContent
  as?:          HTML element
  className?:   string
  style?:       LayoutStyleProps
}
```

**Examples:**
```tsx
// Simple 3-column grid
<Grid cols={3} gap={4}>
  <Card />
  <Card />
  <Card />
</Grid>

// Responsive: 1 col mobile, 2 md, 4 lg
<Grid cols={{ base: 1, md: 2, lg: 4 }} gap={{ base: 2, md: 4 }}>
  <Card />
  <Card />
  <Card />
  <Card />
</Grid>

// With row definitions
<Grid cols={2} rows={3} gap={4}>
  {/* 2x3 grid */}
</Grid>

// Centered content
<Grid cols={3} gap={4} align="center">
  <Card />
  <Card />
  <Card />
</Grid>
```

### Container
Complete props table:
```typescript
interface ContainerProps {
  size?:      sm|md|lg|xl
  as?:        HTML element
  className?: string
  style?:     LayoutStyleProps
}
```

Size mapping:
- `sm`: 640px max-width
- `md`: 768px max-width
- `lg`: 1024px max-width
- `xl`: 1280px max-width

**Examples:**
```tsx
// Default container
<Container>
  <Stack gap={4}>
    <h1>Page Title</h1>
    <p>Content</p>
  </Stack>
</Container>

// Large container for hero
<Container size="lg" as="section">
  <h1>Hero Title</h1>
</Container>

// Narrow container for prose
<Container size="md">
  <article>Long-form content</article>
</Container>
```

### Text
Complete props table:
```typescript
interface TextProps {
  as?:        any element
  size?:      0-6
  weight?:    normal|medium|semibold|bold
  tone?:      neutral|primary|danger|warn|success|muted
  align?:     start|center|end
  leading?:   tight|normal|relaxed
  mono?:      boolean
  className?: string
  style?:     LayoutStyleProps
}
```

**Examples:**
```tsx
// Heading
<Text as="h1" size={6} weight="bold">
  Main Title
</Text>

// Body text
<Text as="p" size={2} leading="relaxed">
  Paragraph content with relaxed line height
</Text>

// Muted label
<Text as="label" size={1} weight="semibold" tone="muted">
  Field Label
</Text>

// Monospace code
<Text mono size={1}>
  const x = 42;
</Text>

// Centered heading
<Text as="h2" size={5} weight="bold" align="center">
  Centered Heading
</Text>

// Toned text
<Text tone="success" weight="semibold">
  ✓ Success!
</Text>
<Text tone="danger" weight="semibold">
  ✗ Error occurred
</Text>
```

### Card
Complete props table:
```typescript
interface CardProps {
  pad?:       Responsive<0-8>
  radius?:    0-4
  shadow?:    0-2
  tone?:      neutral|primary|danger|warn|success
  as?:        HTML element
  className?: string
  style?:     LayoutStyleProps
}
```

**Examples:**
```tsx
// Basic card
<Card pad={4} radius={2} shadow={1}>
  <Stack gap={2}>
    <Text weight="semibold">Card Title</Text>
    <Text tone="muted">Card description</Text>
  </Stack>
</Card>

// Danger status card
<Card tone="danger" pad={4} radius={2}>
  <Text weight="bold">Error</Text>
  <Text>Something went wrong</Text>
</Card>

// Success card
<Card tone="success" pad={4} radius={2} shadow={2}>
  <Text weight="bold" tone="success">✓ Saved!</Text>
</Card>

// Responsive padding
<Card pad={{ base: 2, md: 4, lg: 6 }} radius={2} shadow={1}>
  Content
</Card>

// As article element
<Card as="article" pad={6} radius={3} shadow={1}>
  <h2>Article Title</h2>
  <p>Content</p>
</Card>
```

### Flex
Complete props table:
```typescript
interface FlexProps {
  direction?: Responsive<row|column|row-reverse|column-reverse>
  wrap?:      Responsive<nowrap|wrap|wrap-reverse>
  align?:     Responsive<start|center|end|stretch|baseline>
  justify?:   Responsive<start|center|end|between|around|evenly>
  gap?:       Responsive<0-8>
  as?:        HTML element
  className?: string
  style?:     LayoutStyleProps
}
```

**Examples:**
```tsx
// Row direction (default)
<Flex gap={2}>
  <Item />
  <Item />
</Flex>

// Column direction
<Flex direction="column" gap={2}>
  <Item />
  <Item />
</Flex>

// Responsive direction
<Flex
  direction={{ base: "column", md: "row" }}
  gap={{ base: 2, md: 4 }}
>
  <Item />
  <Item />
</Flex>

// Centered flex
<Flex align="center" justify="center" gap={2}>
  <Item />
  <Item />
</Flex>
```

## Responsive Design Patterns

### Mobile-First Approach
```tsx
// Start with mobile, enhance for larger screens
<Grid
  cols={{ base: 1, md: 2, lg: 4 }}
  gap={{ base: 2, md: 4, lg: 6 }}
>
  <Card />
  <Card />
  <Card />
  <Card />
</Grid>
```

### Responsive Padding
```tsx
<Box
  pad={{ base: 2, sm: 3, md: 4, lg: 6, xl: 8 }}
  radius={2}
  shadow={1}
>
  Content
</Box>
```

### Conditional Layout
```tsx
<Stack
  gap={{ base: 2, lg: 4 }}
  align={{ base: "start", md: "center" }}
>
  <Item />
  <Item />
</Stack>
```

## Common Layouts

### Hero Section
```tsx
<Box as="section" pad={{ base: 6, md: 8, lg: 12 }} background="primary">
  <Container size="lg">
    <Stack gap={4} align="center">
      <Text as="h1" size={6} weight="bold" color="white">
        Hero Title
      </Text>
      <Text size={3} tone="muted">
        Hero subtitle with description
      </Text>
    </Stack>
  </Container>
</Box>
```

### Card Grid
```tsx
<Container size="lg">
  <Grid cols={{ base: 1, md: 2, lg: 3 }} gap={4}>
    {items.map(item => (
      <Card key={item.id} pad={4} radius={2} shadow={1}>
        <Stack gap={2}>
          <Text weight="bold">{item.title}</Text>
          <Text tone="muted">{item.description}</Text>
        </Stack>
      </Card>
    ))}
  </Grid>
</Container>
```

### Form Layout
```tsx
<Stack gap={4}>
  <Stack gap={2}>
    <Text as="label" weight="semibold" size={1}>
      Email
    </Text>
    <input type="email" placeholder="you@example.com" />
    <Text size={0} tone="muted">
      We'll never share your email
    </Text>
  </Stack>

  <Stack gap={2}>
    <Text as="label" weight="semibold" size={1}>
      Password
    </Text>
    <input type="password" />
  </Stack>

  <Inline gap={2} justify="between">
    <button>Cancel</button>
    <button>Save</button>
  </Inline>
</Stack>
```

### Navigation Bar
```tsx
<Box as="nav" pad={3} shadow={1}>
  <Container size="lg">
    <Inline gap={4} align="center" justify="between">
      <Text as="h1" weight="bold" size={3}>
        Logo
      </Text>
      <Inline gap={2}>
        <Link>Home</Link>
        <Link>About</Link>
        <Link>Contact</Link>
      </Inline>
    </Inline>
  </Container>
</Box>
```

## Theme System Examples

### Dynamic Theme Application
```tsx
import { applyDynamicTheme } from '@staple-css/tokens/dynamic-theme';

const customTheme = {
  id: 'my-brand',
  name: 'My Brand',
  tokens: {
    colors: {
      primary: '#007bff',
      primaryHover: '#0056b3',
      text: '#212529',
      background: '#ffffff',
    }
  }
};

applyDynamicTheme(customTheme);
```

### React Theme Provider
```tsx
import { ThemeProvider } from '@staple-css/primitives';

function App() {
  return (
    <ThemeProvider theme={customTheme} scope="root">
      <Layout />
    </ThemeProvider>
  );
}
```

### Theme Switcher Hook
```tsx
import { useTheme } from '@staple-css/primitives';

function ThemeSwitcher() {
  const { apply } = useTheme();

  return (
    <button onClick={() => apply(darkTheme)}>
      Switch to Dark
    </button>
  );
}
```

## Accessibility Best Practices

1. **Use semantic HTML:** Use `as` prop for proper elements
2. **Color contrast:** Use semantic color tokens designed for accessibility
3. **Focus indicators:** Built into all interactive elements
4. **Screen readers:** Proper heading hierarchy with Text component
5. **Keyboard navigation:** All components keyboard accessible
6. **Touch targets:** Minimum 44x44px (use `pad={2}` or more for buttons)

## Performance Tips

1. **Tree-shake unused tokens** - Import only needed CSS
2. **Use static themes** - Pre-generate CSS for production
3. **Avoid inline styles** - Use token-based props instead
4. **Limit responsive breakpoints** - Use only what you need
5. **Leverage CSS variables** - No JS needed for theme switching

## Migration Guide

### From Tailwind CSS
```tsx
// Tailwind
<div className="flex gap-4 p-4 rounded-lg shadow">

// staple-css
<Stack gap={4}>
  <Box pad={4} radius={2} shadow={1}>
```

### From Material-UI
```tsx
// MUI
<Box sx={{ padding: 4, gap: 2, display: 'flex' }}>

// staple-css
<Stack gap={2} pad={4}>
```

### From Chakra UI
```tsx
// Chakra
<Stack spacing={4} p={4} borderRadius="md">

// staple-css
<Stack gap={4} pad={4} radius={2}>
```

## Debugging Tips

1. **Inspect CSS variables** - Check computed styles for `--st-` vars
2. **Check active theme** - Look for `data-theme` attribute
3. **Verify token values** - Use llms.txt reference for allowed values
4. **Test responsive** - Resize window to test breakpoints
5. **Check bundle** - Run `npm run bundle-size` to verify tree-shaking

## Common Pitfalls

1. ❌ Using arbitrary pixel values: `pad={16}`
   ✅ Use token: `pad={4}` (16px)

2. ❌ Direct hex colors: `<Box style={{ background: '#fff' }}>`
   ✅ Use semantic tokens: `tone="neutral"`

3. ❌ Mixing units in responsive: `gap={{ base: 2, md: "1rem" }}`
   ✅ Use tokens consistently: `gap={{ base: 2, md: 4 }}`

4. ❌ Forgetting mobile-first: `cols={{ lg: 3, base: 1 }}`
   ✅ Start with base: `cols={{ base: 1, lg: 3 }}`

5. ❌ Overusing className escape: Always using `className` instead of props
   ✅ Use token-based props, reserve `className` for non-token styles
